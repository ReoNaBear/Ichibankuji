import{k as L,c as r,h as d,l as W,i as M,m as _,r as g,w,n as U,p as K,q as P,g as O,t as j,u as A,v as D,x as E,y as B,a as G,z as J,A as X,B as Y,C as S,f as x,Q as R,D as T}from"./index.8ef4c23a.js";import{Q as F,a as Z}from"./QScrollObserver.c9b3e871.js";import{g as N}from"./scroll.a5156d99.js";import{u as ee}from"./award.fc4c23bf.js";var te=L({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:b}){const c=r(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>d("div",{class:c.value},W(b.default))}}),oe=L({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:b}){const c=r(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>d("div",{class:c.value,role:"toolbar"},W(b.default))}}),ae=L({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:b,emit:c}){const{proxy:{$q:n}}=O(),t=M(P,_);if(t===_)return console.error("QHeader needs to be child of QLayout"),_;const i=g(parseInt(e.heightHint,10)),u=g(!0),z=r(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||n.platform.is.ios&&t.isContainer.value===!0),y=r(()=>{if(e.modelValue!==!0)return 0;if(z.value===!0)return u.value===!0?i.value:0;const a=i.value-t.scroll.value.position;return a>0?a:0}),f=r(()=>e.modelValue!==!0||z.value===!0&&u.value!==!0),C=r(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),H=r(()=>"q-header q-layout__section--marginal "+(z.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),V=r(()=>{const a=t.rows.value.top,m={};return a[0]==="l"&&t.left.space===!0&&(m[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(m[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),m});function v(a,m){t.update("header",a,m)}function q(a,m){a.value!==m&&(a.value=m)}function h({height:a}){q(i,a),v("size",a)}function p(a){C.value===!0&&q(u,!0),c("focusin",a)}w(()=>e.modelValue,a=>{v("space",a),q(u,!0),t.animate()}),w(y,a=>{v("offset",a)}),w(()=>e.reveal,a=>{a===!1&&q(u,e.modelValue)}),w(u,a=>{t.animate(),c("reveal",a)}),w(t.scroll,a=>{e.reveal===!0&&q(u,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const Q={};return t.instances.header=Q,e.modelValue===!0&&v("size",i.value),v("space",e.modelValue),v("offset",y.value),U(()=>{t.instances.header===Q&&(t.instances.header=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const a=K(b.default,[]);return e.elevated===!0&&a.push(d("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(d(F,{debounce:0,onResize:h})),d("header",{class:H.value,style:V.value,onFocusin:p},a)}}}),le=L({name:"QPageContainer",setup(e,{slots:b}){const{proxy:{$q:c}}=O(),n=M(P,_);if(n===_)return console.error("QPageContainer needs to be child of QLayout"),_;j(A,!0);const t=r(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>d("div",{class:"q-page-container",style:t.value},W(b.default))}}),ne=L({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:b,emit:c}){const{proxy:{$q:n}}=O(),t=M(P,_);if(t===_)return console.error("QFooter needs to be child of QLayout"),_;const i=g(parseInt(e.heightHint,10)),u=g(!0),z=g(D.value===!0||t.isContainer.value===!0?0:window.innerHeight),y=r(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||n.platform.is.ios&&t.isContainer.value===!0),f=r(()=>t.isContainer.value===!0?t.containerHeight.value:z.value),C=r(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return u.value===!0?i.value:0;const o=t.scroll.value.position+f.value+i.value-t.height.value;return o>0?o:0}),H=r(()=>e.modelValue!==!0||y.value===!0&&u.value!==!0),V=r(()=>e.modelValue===!0&&H.value===!0&&e.reveal===!0),v=r(()=>"q-footer q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(H.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(y.value!==!0?" hidden":""):"")),q=r(()=>{const o=t.rows.value.bottom,s={};return o[0]==="l"&&t.left.space===!0&&(s[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(s[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),s});function h(o,s){t.update("footer",o,s)}function p(o,s){o.value!==s&&(o.value=s)}function Q({height:o}){p(i,o),h("size",o)}function a(){if(e.reveal!==!0)return;const{direction:o,position:s,inflectionPoint:$}=t.scroll.value;p(u,o==="up"||s-$<100||t.height.value-f.value-s-i.value<300)}function m(o){V.value===!0&&p(u,!0),c("focusin",o)}w(()=>e.modelValue,o=>{h("space",o),p(u,!0),t.animate()}),w(C,o=>{h("offset",o)}),w(()=>e.reveal,o=>{o===!1&&p(u,e.modelValue)}),w(u,o=>{t.animate(),c("reveal",o)}),w([i,t.scroll,t.height],a),w(()=>n.screen.height,o=>{t.isContainer.value!==!0&&p(z,o)});const l={};return t.instances.footer=l,e.modelValue===!0&&h("size",i.value),h("space",e.modelValue),h("offset",C.value),U(()=>{t.instances.footer===l&&(t.instances.footer=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const o=E(b.default,[d(F,{debounce:0,onResize:Q})]);return e.elevated===!0&&o.push(d("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d("footer",{class:v.value,style:q.value,onFocusin:m},o)}}}),re=L({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:b,emit:c}){const{proxy:{$q:n}}=O(),t=g(null),i=g(n.screen.height),u=g(e.container===!0?0:n.screen.width),z=g({position:0,direction:"down",inflectionPoint:0}),y=g(0),f=g(D.value===!0?0:N()),C=r(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),H=r(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),V=r(()=>f.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),v=r(()=>f.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function q(l){if(e.container===!0||document.qScrollPrevented!==!0){const o={position:l.position.top,direction:l.direction,directionChanged:l.directionChanged,inflectionPoint:l.inflectionPoint.top,delta:l.delta.top};z.value=o,e.onScroll!==void 0&&c("scroll",o)}}function h(l){const{height:o,width:s}=l;let $=!1;i.value!==o&&($=!0,i.value=o,e.onScrollHeight!==void 0&&c("scrollHeight",o),Q()),u.value!==s&&($=!0,u.value=s),$===!0&&e.onResize!==void 0&&c("resize",l)}function p({height:l}){y.value!==l&&(y.value=l,Q())}function Q(){if(e.container===!0){const l=i.value>y.value?N():0;f.value!==l&&(f.value=l)}}let a=null;const m={instances:{},view:r(()=>e.view),isContainer:r(()=>e.container),rootRef:t,height:i,containerHeight:y,scrollbarWidth:f,totalWidth:r(()=>u.value+f.value),rows:r(()=>{const l=e.view.toLowerCase().split(" ");return{top:l[0].split(""),middle:l[1].split(""),bottom:l[2].split("")}}),header:B({size:0,offset:0,space:!1}),right:B({size:300,offset:0,space:!1}),footer:B({size:0,offset:0,space:!1}),left:B({size:300,offset:0,space:!1}),scroll:z,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(l,o,s){m[l][o]=s}};if(j(P,m),N()>0){let s=function(){l=null,o.classList.remove("hide-scrollbar")},$=function(){if(l===null){if(o.scrollHeight>n.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(l);l=setTimeout(s,300)},k=function(I){l!==null&&I==="remove"&&(clearTimeout(l),s()),window[`${I}EventListener`]("resize",$)},l=null;const o=document.body;w(()=>e.container!==!0?"add":"remove",k),e.container!==!0&&k("add"),G(()=>{k("remove")})}return()=>{const l=E(b.default,[d(Z,{onScroll:q}),d(F,{onResize:h})]),o=d("div",{class:C.value,style:H.value,ref:e.container===!0?void 0:t,tabindex:-1},l);return e.container===!0?d("div",{class:"q-layout-container overflow-hidden",ref:t},[d(F,{onResize:p}),d("div",{class:"absolute-full",style:V.value},[d("div",{class:"scroll",style:v.value},[o])])]):o}}});const de=Object.assign({name:"MainLayout"},{__name:"MainLayout",setup(e){return ee(),g(null),g(null),(b,c)=>{const n=J("router-view");return X(),Y(re,{view:"lHh Lpr lFf"},{default:S(()=>[x(ae,{elevated:"",style:{"background-color":"#ffedd4"}},{default:S(()=>[x(oe,null,{default:S(()=>[x(R,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",class:"bg-amber-8",to:"/"}),x(te,{class:"text-orange-10"},{default:S(()=>[T(" \u4E00\u756A\u8CDE! ")]),_:1}),x(R,{to:"/Drawl",class:"bg-amber-6 q-mx-sm","text-color":"brown-7"},{default:S(()=>[T("\u958B\u59CB\u62BD\u734E")]),_:1}),x(R,{to:"/Setting",class:"bg-amber-6 q-mx-sm","text-color":"brown-7"},{default:S(()=>[T("\u734E\u9805\u8A2D\u5B9A")]),_:1}),x(R,{to:"/Record",class:"bg-amber-6 q-mx-sm","text-color":"brown-7"},{default:S(()=>[T("\u5F97\u734E\u67E5\u770B")]),_:1})]),_:1})]),_:1}),x(le,null,{default:S(()=>[x(n)]),_:1}),x(ne,{elevated:"",style:{"background-color":"#ffedd4",height:"50px"}})]),_:1})}}});export{de as default};
