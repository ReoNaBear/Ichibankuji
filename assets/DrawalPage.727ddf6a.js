import{_ as U,b as x,a as B,Q as y,$ as j,C as z}from"./plugin-vue_export-helper.cb4a611c.js";import{r as s,o as M,W as D,R as i,a3 as m,a2 as g,F as f,a4 as C,f as k,U as T,S as P,a5 as R,a6 as F,a7 as W,a8 as Z,D as H,Z as J}from"./index.7bd5b6f4.js";import{Q as K}from"./QDialog.82977d52.js";import{u as X}from"./award.6076ef97.js";import"./focus-manager.c9b70bc2.js";var p="/Ichibankuji/assets/front.324f03fa.png",Q="/Ichibankuji/assets/drawlTicket.e5c0e2a4.jpg",b="/Ichibankuji/assets/drawlTicketOpen.f38923d6.png",V="/Ichibankuji/assets/AB.017fb6ff.png",q="/Ichibankuji/assets/BB.3fb064ae.png",E="/Ichibankuji/assets/CB.5eb35614.png",L="/Ichibankuji/assets/DB.87c14fea.png",N="/Ichibankuji/assets/EB.024c105b.png",O="/Ichibankuji/assets/FB.e2362742.png",S="/Ichibankuji/assets/GB.0913d365.png";const Y={components:{},setup(){const v=[p,x,B,Q,b,V,q,E,L,N,O,S],r=s([]),h=()=>{const t=v.map(e=>new Promise(c=>{const u=new Image;u.src=e,u.onload=()=>c(u.src),u.onerror=()=>c(null)}));return Promise.all(t)};M(async()=>{D.show(),r.value=await h(),D.hide(),console.log(r.value)});const a=s(!1),I=s(1),l=s(!1),n=s(""),o=s([{url:p},{url:x},{url:B}]),_=X(),d=s(null),G=()=>{J(()=>{j("#flipbook").turn({direction:"rtl",height:271.5,width:820,elevation:50,duration:1e3,gradients:!1,autoCenter:!0,acceleration:!0,page:1,pages:3,display:"double",when:{turning:function(t,e,c){console.log(t,e,c)},turned:function(t,e){j("#flipbook").turn("disable",!1),!!e&&e==2&&(l.value=!0)}}})})};w();function w(){d.value=_.ticketList,d.value.sort(function(t,e){return t.id-e.id})}function A(t){l.value=!1,n.value=t.name,a.value=!0;let e=V;switch(t.category){case"B":e=q;break;case"C":e=E;break;case"D":e=L;break;case"E":e=N;break;case"F":e=O;break;case"G":e=S;break}o.value=[{url:p},{url:e},{url:b}],t.openTime==null&&(_.ticketOpen(t.id),w()),G()}return{imgList:o,currentPage:I,openDialog:A,dialog:a,ticketImage:Q,awardName:n,content:l,ticketOpenImage:b,tickets:d}}},$={class:"z-index w-100 q-pa-md row items-center justify-around"},ee={class:"full-width full-height column items-center justify-center",style:{"flex-wrap":"nowrap"}},ae={id:"flipbook"};function te(v,r,h,a,I,l){return i(),m(f,null,[g("div",$,[(i(!0),m(f,null,C(a.tickets,n=>(i(),P(y,{key:n.id,src:n.openTime==null?a.ticketImage:a.ticketOpenImage,class:"ticket q-ma-sm",onClick:o=>a.openDialog(n)},null,8,["src","onClick"]))),128))]),k(K,{modelValue:a.dialog,"onUpdate:modelValue":r[0]||(r[0]=n=>a.dialog=n),"full-width":"","full-height":"",persistent:""},{default:T(()=>[g("div",ee,[g("div",ae,[(i(!0),m(f,null,C(a.imgList,(n,o)=>(i(),P(y,{key:o,fit:"fill",src:n.url},null,8,["src"]))),128))]),k(R,{name:"extend"},{default:T(()=>[F(g("div",{class:"text-h3 text-white text-center q-my-xl content"},Z(a.awardName),513),[[W,a.content]])]),_:1}),F(k(H,{label:"\u95DC\u9589",class:"q-my-xl",color:"grey-3","text-color":"black"},null,512),[[z]])])]),_:1},8,["modelValue"])],64)}var le=U(Y,[["render",te],["__scopeId","data-v-b32a0e7a"]]);export{le as default};
