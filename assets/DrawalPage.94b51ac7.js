import{_ as J,b as w,a as j,Q as B,$ as x,C as K}from"./plugin-vue_export-helper.3cecf8bc.js";import{r as t,o as X,W as y,R as o,a3 as m,a2 as p,F as d,a4 as D,f,U as C,S as E,a5 as Y,a6 as F,a7 as $,a8 as ee,D as ae,Z as ne}from"./index.11f301bc.js";import{Q as se}from"./QDialog.da4c3998.js";import{u as te}from"./award.dc955a4f.js";import"./focus-manager.c9b70bc2.js";var b="/Ichibankuji/assets/front.324f03fa.png",T="/Ichibankuji/assets/drawlTicket.e5c0e2a4.jpg",k="/Ichibankuji/assets/drawlTicketOpen.f38923d6.png",P="/Ichibankuji/assets/AB.017fb6ff.png",G="/Ichibankuji/assets/BB.3fb064ae.png",A="/Ichibankuji/assets/CB.5eb35614.png",Q="/Ichibankuji/assets/DB.87c14fea.png",V="/Ichibankuji/assets/EB.024c105b.png",q="/Ichibankuji/assets/FB.e2362742.png",L="/Ichibankuji/assets/GB.0913d365.png",I="/Ichibankuji/assets/OpenA.572b4593.png",N="/Ichibankuji/assets/OpenB.bb7355bb.png",S="/Ichibankuji/assets/OpenC.bc50624f.png",U="/Ichibankuji/assets/OpenD.e4bab730.png",z="/Ichibankuji/assets/OpenE.7d163ddf.png",M="/Ichibankuji/assets/OpenF.68f413d1.png",R="/Ichibankuji/assets/OpenG.5f9f8633.png";const re={components:{},setup(){const h=[b,w,j,T,k,P,G,A,Q,V,q,L,I,N,S,U,z,M,R],r=t([]),v=()=>{const e=h.map(a=>new Promise(u=>{const g=new Image;g.src=a,g.onload=()=>u(g.src),g.onerror=()=>u(null)}));return Promise.all(e)};X(async()=>{y.show(),r.value=await v(),y.hide(),console.log(r.value)});const n=t(!1),O=t(1),c=t(!1),s=t(""),i=t([{url:b},{url:w},{url:j}]),_=te(),l=t(null),W=()=>{ne(()=>{x("#flipbook").turn({direction:"rtl",height:271.5,width:820,elevation:50,duration:1e3,gradients:!1,autoCenter:!0,acceleration:!0,page:1,pages:3,display:"double",when:{turning:function(e,a,u){console.log(e,a,u)},turned:function(e,a){x("#flipbook").turn("disable",!1),!!a&&a==2&&(c.value=!0)}}})})};Z();function Z(){l.value=_.ticketList,l.value.sort(function(e,a){return e.id-a.id}),l.value.forEach(function(e){switch(e.ticketOpenImage=I,e.category){case"A":e.ticketOpenImage=I;break;case"B":e.ticketOpenImage=N;break;case"C":e.ticketOpenImage=S;break;case"D":e.ticketOpenImage=U;break;case"E":e.ticketOpenImage=z;break;case"F":e.ticketOpenImage=M;break;case"G":e.ticketOpenImage=R;break}})}function H(e){c.value=!1,s.value=e.name,n.value=!0;let a=P;switch(e.category){case"B":a=G;break;case"C":a=A;break;case"D":a=Q;break;case"E":a=V;break;case"F":a=q;break;case"G":a=L;break}i.value=[{url:b},{url:a},{url:k}],e.openTime==null&&_.ticketOpen(e.id),W()}return{imgList:i,currentPage:O,openDialog:H,dialog:n,ticketImage:T,awardName:s,content:c,ticketOpenImage:k,tickets:l}}},ie={class:"z-index w-100 q-pa-md row items-center justify-around"},oe={class:"full-width full-height column items-center justify-center",style:{"flex-wrap":"nowrap"}},ce={id:"flipbook"};function le(h,r,v,n,O,c){return o(),m(d,null,[p("div",ie,[(o(!0),m(d,null,D(n.tickets,s=>(o(),E(B,{key:s.id,src:s.openTime==null?n.ticketImage:s.ticketOpenImage,class:"ticket q-ma-sm",onClick:i=>n.openDialog(s)},null,8,["src","onClick"]))),128))]),f(se,{modelValue:n.dialog,"onUpdate:modelValue":r[0]||(r[0]=s=>n.dialog=s),"full-width":"","full-height":"",persistent:""},{default:C(()=>[p("div",oe,[p("div",ce,[(o(!0),m(d,null,D(n.imgList,(s,i)=>(o(),E(B,{key:i,fit:"fill",src:s.url},null,8,["src"]))),128))]),f(Y,{name:"extend"},{default:C(()=>[F(p("div",{class:"text-h3 text-white text-center q-my-xl content"},ee(n.awardName),513),[[$,n.content]])]),_:1}),F(f(ae,{label:"\u95DC\u9589",class:"q-my-xl",color:"grey-3","text-color":"black"},null,512),[[K]])])]),_:1},8,["modelValue"])],64)}var fe=J(re,[["render",le],["__scopeId","data-v-d10adbfc"]]);export{fe as default};
