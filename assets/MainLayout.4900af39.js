import{h as k,a as E,b as M,Q as K}from"./QBtn.51faf345.js";import{k as L,c as r,h as d,i as N,l as q,m as T,r as b,w,n as I,g as F,p as U,q as A,t as j,u as B,a as D,v as G,x as J,y as X,z as V,f as $,A as Y}from"./index.837301d9.js";import{Q as R,a as Z}from"./QScrollObserver.c8ab53da.js";import{g as O}from"./scroll.29661ba8.js";var ee=L({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:g}){const c=r(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>d("div",{class:c.value},k(g.default))}}),te=L({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:g}){const c=r(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>d("div",{class:c.value,role:"toolbar"},k(g.default))}}),ae=L({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:g,emit:c}){const{proxy:{$q:n}}=F(),t=N(T,q);if(t===q)return console.error("QHeader needs to be child of QLayout"),q;const i=b(parseInt(e.heightHint,10)),u=b(!0),z=r(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||n.platform.is.ios&&t.isContainer.value===!0),y=r(()=>{if(e.modelValue!==!0)return 0;if(z.value===!0)return u.value===!0?i.value:0;const l=i.value-t.scroll.value.position;return l>0?l:0}),f=r(()=>e.modelValue!==!0||z.value===!0&&u.value!==!0),S=r(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),H=r(()=>"q-header q-layout__section--marginal "+(z.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),C=r(()=>{const l=t.rows.value.top,m={};return l[0]==="l"&&t.left.space===!0&&(m[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),l[2]==="r"&&t.right.space===!0&&(m[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),m});function v(l,m){t.update("header",l,m)}function x(l,m){l.value!==m&&(l.value=m)}function h({height:l}){x(i,l),v("size",l)}function p(l){S.value===!0&&x(u,!0),c("focusin",l)}w(()=>e.modelValue,l=>{v("space",l),x(u,!0),t.animate()}),w(y,l=>{v("offset",l)}),w(()=>e.reveal,l=>{l===!1&&x(u,e.modelValue)}),w(u,l=>{t.animate(),c("reveal",l)}),w(t.scroll,l=>{e.reveal===!0&&x(u,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const _={};return t.instances.header=_,e.modelValue===!0&&v("size",i.value),v("space",e.modelValue),v("offset",y.value),I(()=>{t.instances.header===_&&(t.instances.header=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const l=E(g.default,[]);return e.elevated===!0&&l.push(d("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(d(R,{debounce:0,onResize:h})),d("header",{class:H.value,style:C.value,onFocusin:p},l)}}}),le=L({name:"QPageContainer",setup(e,{slots:g}){const{proxy:{$q:c}}=F(),n=N(T,q);if(n===q)return console.error("QPageContainer needs to be child of QLayout"),q;U(A,!0);const t=r(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>d("div",{class:"q-page-container",style:t.value},k(g.default))}}),oe=L({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:g,emit:c}){const{proxy:{$q:n}}=F(),t=N(T,q);if(t===q)return console.error("QFooter needs to be child of QLayout"),q;const i=b(parseInt(e.heightHint,10)),u=b(!0),z=b(j.value===!0||t.isContainer.value===!0?0:window.innerHeight),y=r(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||n.platform.is.ios&&t.isContainer.value===!0),f=r(()=>t.isContainer.value===!0?t.containerHeight.value:z.value),S=r(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return u.value===!0?i.value:0;const a=t.scroll.value.position+f.value+i.value-t.height.value;return a>0?a:0}),H=r(()=>e.modelValue!==!0||y.value===!0&&u.value!==!0),C=r(()=>e.modelValue===!0&&H.value===!0&&e.reveal===!0),v=r(()=>"q-footer q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(H.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(y.value!==!0?" hidden":""):"")),x=r(()=>{const a=t.rows.value.bottom,s={};return a[0]==="l"&&t.left.space===!0&&(s[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(s[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),s});function h(a,s){t.update("footer",a,s)}function p(a,s){a.value!==s&&(a.value=s)}function _({height:a}){p(i,a),h("size",a)}function l(){if(e.reveal!==!0)return;const{direction:a,position:s,inflectionPoint:Q}=t.scroll.value;p(u,a==="up"||s-Q<100||t.height.value-f.value-s-i.value<300)}function m(a){C.value===!0&&p(u,!0),c("focusin",a)}w(()=>e.modelValue,a=>{h("space",a),p(u,!0),t.animate()}),w(S,a=>{h("offset",a)}),w(()=>e.reveal,a=>{a===!1&&p(u,e.modelValue)}),w(u,a=>{t.animate(),c("reveal",a)}),w([i,t.scroll,t.height],l),w(()=>n.screen.height,a=>{t.isContainer.value!==!0&&p(z,a)});const o={};return t.instances.footer=o,e.modelValue===!0&&h("size",i.value),h("space",e.modelValue),h("offset",S.value),I(()=>{t.instances.footer===o&&(t.instances.footer=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const a=M(g.default,[d(R,{debounce:0,onResize:_})]);return e.elevated===!0&&a.push(d("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d("footer",{class:v.value,style:x.value,onFocusin:m},a)}}}),ne=L({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:g,emit:c}){const{proxy:{$q:n}}=F(),t=b(null),i=b(n.screen.height),u=b(e.container===!0?0:n.screen.width),z=b({position:0,direction:"down",inflectionPoint:0}),y=b(0),f=b(j.value===!0?0:O()),S=r(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),H=r(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),C=r(()=>f.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),v=r(()=>f.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function x(o){if(e.container===!0||document.qScrollPrevented!==!0){const a={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};z.value=a,e.onScroll!==void 0&&c("scroll",a)}}function h(o){const{height:a,width:s}=o;let Q=!1;i.value!==a&&(Q=!0,i.value=a,e.onScrollHeight!==void 0&&c("scrollHeight",a),_()),u.value!==s&&(Q=!0,u.value=s),Q===!0&&e.onResize!==void 0&&c("resize",o)}function p({height:o}){y.value!==o&&(y.value=o,_())}function _(){if(e.container===!0){const o=i.value>y.value?O():0;f.value!==o&&(f.value=o)}}let l=null;const m={instances:{},view:r(()=>e.view),isContainer:r(()=>e.container),rootRef:t,height:i,containerHeight:y,scrollbarWidth:f,totalWidth:r(()=>u.value+f.value),rows:r(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:B({size:0,offset:0,space:!1}),right:B({size:300,offset:0,space:!1}),footer:B({size:0,offset:0,space:!1}),left:B({size:300,offset:0,space:!1}),scroll:z,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,a,s){m[o][a]=s}};if(U(T,m),O()>0){let s=function(){o=null,a.classList.remove("hide-scrollbar")},Q=function(){if(o===null){if(a.scrollHeight>n.screen.height)return;a.classList.add("hide-scrollbar")}else clearTimeout(o);o=setTimeout(s,300)},P=function(W){o!==null&&W==="remove"&&(clearTimeout(o),s()),window[`${W}EventListener`]("resize",Q)},o=null;const a=document.body;w(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),D(()=>{P("remove")})}return()=>{const o=M(g.default,[d(Z,{onScroll:x}),d(R,{onResize:h})]),a=d("div",{class:S.value,style:H.value,ref:e.container===!0?void 0:t,tabindex:-1},o);return e.container===!0?d("div",{class:"q-layout-container overflow-hidden",ref:t},[d(R,{onResize:p}),d("div",{class:"absolute-full",style:C.value},[d("div",{class:"scroll",style:v.value},[a])])]):a}}});const ce=Object.assign({name:"MainLayout"},{__name:"MainLayout",setup(e){return b(!1),(g,c)=>{const n=G("router-view");return J(),X(ne,{view:"lHh Lpr lFf"},{default:V(()=>[$(ae,{elevated:"",class:"bg-orange-10"},{default:V(()=>[$(te,null,{default:V(()=>[$(K,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",class:"bg-amber-8",to:"/"}),$(ee,null,{default:V(()=>[Y(" \u4E00\u756A\u8CDE! ")]),_:1})]),_:1})]),_:1}),$(le,null,{default:V(()=>[$(n)]),_:1}),$(oe,{elevated:"",class:"bg-orange-10",style:{height:"50px"}})]),_:1})}}});export{ce as default};
