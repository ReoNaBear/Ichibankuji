import{_ as J,b as w,a as j,Q as y,$ as D,C as K}from"./plugin-vue_export-helper.0fc36c0f.js";import{r as t,o as X,W as C,R as i,a3 as p,a2 as d,F as m,a4 as B,f as x,U as E,S as F,a5 as Y,a6 as $,a7 as ee,D as ae,Z as ne}from"./index.ceaf0001.js";import{Q as se}from"./QDialog.9a6ae27e.js";import{u as te}from"./award.a132a148.js";import"./focus-manager.c9b70bc2.js";var b="/Ichibankuji/assets/front.324f03fa.png",P="/Ichibankuji/assets/drawlTicket.e5c0e2a4.jpg",k="/Ichibankuji/assets/drawlTicketOpen.f38923d6.png",T="/Ichibankuji/assets/AO.bc459988.png",G="/Ichibankuji/assets/BO.48b4873d.png",N="/Ichibankuji/assets/CO.b26311d6.png",V="/Ichibankuji/assets/DO.c4da2e75.png",A="/Ichibankuji/assets/EO.9bc1e1bb.png",Q="/Ichibankuji/assets/FO.ae01fbce.png",L="/Ichibankuji/assets/GO.a59d0dab.png",f="/Ichibankuji/assets/OpenA.572b4593.png",q="/Ichibankuji/assets/OpenB.bb7355bb.png",S="/Ichibankuji/assets/OpenC.bc50624f.png",U="/Ichibankuji/assets/OpenD.e4bab730.png",z="/Ichibankuji/assets/OpenE.7d163ddf.png",M="/Ichibankuji/assets/OpenF.68f413d1.png",R="/Ichibankuji/assets/OpenG.5f9f8633.png";const re={components:{},setup(){const I=[b,w,j,P,k,T,G,N,V,A,Q,L,f,q,S,U,z,M,R],o=t([]),v=()=>{const e=I.map(a=>new Promise(u=>{const g=new Image;g.src=a,g.onload=()=>u(g.src),g.onerror=()=>u(null)}));return Promise.all(e)};X(async()=>{C.show(),o.value=await v(),C.hide(),console.log(o.value)});const s=t(!1),h=t(1),c=t(!1),n=t(""),r=t(null),O=t([{url:b},{url:w},{url:j}]),_=te(),l=t(null),W=()=>{ne(()=>{D("#flipbook").turn({direction:"rtl",height:271.5,width:820,elevation:50,duration:1e3,gradients:!1,autoCenter:!0,acceleration:!0,page:1,pages:3,display:"double",when:{turning:function(e,a,u){console.log(e,a,u)},turned:function(e,a){D("#flipbook").turn("disable",!1),!!a&&a==2&&(r.value.openTime==null&&_.ticketOpen(r.value.id),c.value=!0)}}})})};Z();function Z(){l.value=_.ticketList,l.value.sort(function(e,a){return e.id-a.id}),l.value.forEach(function(e){switch(e.ticketOpenImage=f,e.category){case"A":e.ticketOpenImage=f;break;case"B":e.ticketOpenImage=q;break;case"C":e.ticketOpenImage=S;break;case"D":e.ticketOpenImage=U;break;case"E":e.ticketOpenImage=z;break;case"F":e.ticketOpenImage=M;break;case"G":e.ticketOpenImage=R;break}})}function H(e){r.value=e,c.value=!1,n.value=e.name,s.value=!0;let a=T;switch(e.category){case"B":a=G;break;case"C":a=N;break;case"D":a=V;break;case"E":a=A;break;case"F":a=Q;break;case"G":a=L;break}O.value=[{url:b},{url:a},{url:k}],W()}return{imgList:O,currentPage:h,openDialog:H,dialog:s,ticketImage:P,awardName:n,content:c,ticketOpenImage:k,tickets:l}}},ie={class:"z-index w-100 q-pa-md row items-center justify-around"},oe={class:"full-width full-height column items-center justify-center",style:{"flex-wrap":"nowrap"}},ce={id:"flipbook"},le={key:0,class:"awardName"};function ue(I,o,v,s,h,c){return i(),p(m,null,[d("div",ie,[(i(!0),p(m,null,B(s.tickets,n=>(i(),F(y,{key:n.id,src:n.openTime==null?s.ticketImage:n.ticketOpenImage,class:"ticket q-ma-sm",onClick:r=>s.openDialog(n)},null,8,["src","onClick"]))),128))]),x(se,{modelValue:s.dialog,"onUpdate:modelValue":o[0]||(o[0]=n=>s.dialog=n),"full-width":"","full-height":"",persistent:""},{default:E(()=>[d("div",oe,[d("div",ce,[(i(!0),p(m,null,B(s.imgList,(n,r)=>(i(),F(y,{key:r,fit:"fill",src:n.url},{default:E(()=>[r==1?(i(),p("div",le,Y(s.awardName),1)):$("",!0)]),_:2},1032,["src"]))),128))]),ee(x(ae,{label:"\u95DC\u9589",class:"q-my-xl",color:"grey-3","text-color":"black"},null,512),[[K]])])]),_:1},8,["modelValue"])],64)}var ke=J(re,[["render",ue],["__scopeId","data-v-6b09f7aa"]]);export{ke as default};
