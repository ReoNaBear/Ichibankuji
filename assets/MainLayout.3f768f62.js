import{Q as B,a as U}from"./QScrollObserver.bb61cc59.js";import{k as V,i as k,l as z,r as h,c as i,w as b,m as E,n as I,h as v,p as F,g as T,q as N,t as K,u as M,v as j,x as _,a as A,y as D,z as G,A as J,B as X,C as W,f as R}from"./index.eaab235c.js";import{g as P}from"./scroll.0f76d90e.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";var Z=V({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:p,emit:u}){const{proxy:{$q:o}}=T(),a=k(F,z);if(a===z)return console.error("QHeader needs to be child of QLayout"),z;const l=h(parseInt(t.heightHint,10)),c=h(!0),w=i(()=>t.reveal===!0||a.view.value.indexOf("H")!==-1||o.platform.is.ios&&a.isContainer.value===!0),m=i(()=>{if(t.modelValue!==!0)return 0;if(w.value===!0)return c.value===!0?l.value:0;const e=l.value-a.scroll.value.position;return e>0?e:0}),s=i(()=>t.modelValue!==!0||w.value===!0&&c.value!==!0),$=i(()=>t.modelValue===!0&&s.value===!0&&t.reveal===!0),q=i(()=>"q-header q-layout__section--marginal "+(w.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),C=i(()=>{const e=a.rows.value.top,f={};return e[0]==="l"&&a.left.space===!0&&(f[o.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),e[2]==="r"&&a.right.space===!0&&(f[o.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),f});function d(e,f){a.update("header",e,f)}function g(e,f){e.value!==f&&(e.value=f)}function L({height:e}){g(l,e),d("size",e)}function H(e){$.value===!0&&g(c,!0),u("focusin",e)}b(()=>t.modelValue,e=>{d("space",e),g(c,!0),a.animate()}),b(m,e=>{d("offset",e)}),b(()=>t.reveal,e=>{e===!1&&g(c,t.modelValue)}),b(c,e=>{a.animate(),u("reveal",e)}),b(a.scroll,e=>{t.reveal===!0&&g(c,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const x={};return a.instances.header=x,t.modelValue===!0&&d("size",l.value),d("space",t.modelValue),d("offset",m.value),E(()=>{a.instances.header===x&&(a.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const e=I(p.default,[]);return t.elevated===!0&&e.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(v(B,{debounce:0,onResize:L})),v("header",{class:q.value,style:C.value,onFocusin:H},e)}}}),ee=V({name:"QPageContainer",setup(t,{slots:p}){const{proxy:{$q:u}}=T(),o=k(F,z);if(o===z)return console.error("QPageContainer needs to be child of QLayout"),z;N(M,!0);const a=i(()=>{const l={};return o.header.space===!0&&(l.paddingTop=`${o.header.size}px`),o.right.space===!0&&(l[`padding${u.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(l.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(l[`padding${u.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),l});return()=>v("div",{class:"q-page-container",style:a.value},K(p.default))}}),te=V({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:p,emit:u}){const{proxy:{$q:o}}=T(),a=h(null),l=h(o.screen.height),c=h(t.container===!0?0:o.screen.width),w=h({position:0,direction:"down",inflectionPoint:0}),m=h(0),s=h(j.value===!0?0:P()),$=i(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),q=i(()=>t.container===!1?{minHeight:o.screen.height+"px"}:null),C=i(()=>s.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),d=i(()=>s.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function g(n){if(t.container===!0||document.qScrollPrevented!==!0){const r={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};w.value=r,t.onScroll!==void 0&&u("scroll",r)}}function L(n){const{height:r,width:y}=n;let S=!1;l.value!==r&&(S=!0,l.value=r,t.onScrollHeight!==void 0&&u("scrollHeight",r),x()),c.value!==y&&(S=!0,c.value=y),S===!0&&t.onResize!==void 0&&u("resize",n)}function H({height:n}){m.value!==n&&(m.value=n,x())}function x(){if(t.container===!0){const n=l.value>m.value?P():0;s.value!==n&&(s.value=n)}}let e=null;const f={instances:{},view:i(()=>t.view),isContainer:i(()=>t.container),rootRef:a,height:l,containerHeight:m,scrollbarWidth:s,totalWidth:i(()=>c.value+s.value),rows:i(()=>{const n=t.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:_({size:0,offset:0,space:!1}),right:_({size:300,offset:0,space:!1}),footer:_({size:0,offset:0,space:!1}),left:_({size:300,offset:0,space:!1}),scroll:w,animate(){e!==null?clearTimeout(e):document.body.classList.add("q-body--layout-animate"),e=setTimeout(()=>{e=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,r,y){f[n][r]=y}};if(N(F,f),P()>0){let y=function(){n=null,r.classList.remove("hide-scrollbar")},S=function(){if(n===null){if(r.scrollHeight>o.screen.height)return;r.classList.add("hide-scrollbar")}else clearTimeout(n);n=setTimeout(y,300)},Q=function(O){n!==null&&O==="remove"&&(clearTimeout(n),y()),window[`${O}EventListener`]("resize",S)},n=null;const r=document.body;b(()=>t.container!==!0?"add":"remove",Q),t.container!==!0&&Q("add"),A(()=>{Q("remove")})}return()=>{const n=D(p.default,[v(U,{onScroll:g}),v(B,{onResize:L})]),r=v("div",{class:$.value,style:q.value,ref:t.container===!0?void 0:a,tabindex:-1},n);return t.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:a},[v(B,{onResize:H}),v("div",{class:"absolute-full",style:C.value},[v("div",{class:"scroll",style:d.value},[r])])]):r}}});const ne={};function ae(t,p){const u=G("router-view");return J(),X(te,{view:"lHh Lpr lFf"},{default:W(()=>[R(Z,{elevated:"",style:{"background-color":"#ffedd4"}}),R(ee,null,{default:W(()=>[R(u)]),_:1})]),_:1})}var se=Y(ne,[["render",ae]]);export{se as default};
