import{_ as J,b as j,a as B,Q as x,$ as y,C as K}from"./plugin-vue_export-helper.f14d641e.js";import{r as t,o as X,W as D,R as o,a3 as m,a2 as p,F as d,a4 as C,f,U as E,S as F,a5 as Y,a6 as T,a7 as $,a8 as ee,D as ae,Z as ne}from"./index.c03d059e.js";import{Q as se}from"./QDialog.ba50f43f.js";import{u as te}from"./award.cf6e4ba0.js";import"./focus-manager.c9b70bc2.js";var k="/Ichibankuji/assets/front.324f03fa.png",P="/Ichibankuji/assets/drawlTicket.e5c0e2a4.jpg",b="/Ichibankuji/assets/drawlTicketOpen.f38923d6.png",G="/Ichibankuji/assets/AB.017fb6ff.png",A="/Ichibankuji/assets/BB.3fb064ae.png",Q="/Ichibankuji/assets/CB.5eb35614.png",V="/Ichibankuji/assets/DB.87c14fea.png",q="/Ichibankuji/assets/EB.024c105b.png",L="/Ichibankuji/assets/FB.e2362742.png",N="/Ichibankuji/assets/GB.0913d365.png",I="/Ichibankuji/assets/OpenA.572b4593.png",S="/Ichibankuji/assets/OpenB.bb7355bb.png",U="/Ichibankuji/assets/OpenC.bc50624f.png",z="/Ichibankuji/assets/OpenD.e4bab730.png",M="/Ichibankuji/assets/OpenE.7d163ddf.png",R="/Ichibankuji/assets/OpenF.68f413d1.png",W="/Ichibankuji/assets/OpenG.5f9f8633.png";const re={components:{},setup(){const h=[k,j,B,P,b,G,A,Q,V,q,L,N,I,S,U,z,M,R,W],r=t([]),v=()=>{const e=h.map(a=>new Promise(u=>{const g=new Image;g.src=a,g.onload=()=>u(g.src),g.onerror=()=>u(null)}));return Promise.all(e)};X(async()=>{D.show(),r.value=await v(),D.hide(),console.log(r.value)});const n=t(!1),O=t(1),c=t(!1),s=t(""),i=t([{url:k},{url:j},{url:B}]),_=te(),l=t(null),Z=()=>{ne(()=>{y("#flipbook").turn({direction:"rtl",height:271.5,width:820,elevation:50,duration:1e3,gradients:!1,autoCenter:!0,acceleration:!0,page:1,pages:3,display:"double",when:{turning:function(e,a,u){console.log(e,a,u)},turned:function(e,a){y("#flipbook").turn("disable",!1),!!a&&a==2&&(c.value=!0)}}})})};w();function w(){l.value=_.ticketList,l.value.sort(function(e,a){return e.id-a.id}),l.value.forEach(function(e){switch(e.ticketOpenImage=I,e.category){case"A":e.ticketOpenImage=I;break;case"B":e.ticketOpenImage=S;break;case"C":e.ticketOpenImage=U;break;case"D":e.ticketOpenImage=z;break;case"E":e.ticketOpenImage=M;break;case"F":e.ticketOpenImage=R;break;case"G":e.ticketOpenImage=W;break}})}function H(e){c.value=!1,s.value=e.name,n.value=!0;let a=G;switch(e.category){case"B":a=A;break;case"C":a=Q;break;case"D":a=V;break;case"E":a=q;break;case"F":a=L;break;case"G":a=N;break}i.value=[{url:k},{url:a},{url:b}],e.openTime==null&&(_.ticketOpen(e.id),w()),Z()}return{imgList:i,currentPage:O,openDialog:H,dialog:n,ticketImage:P,awardName:s,content:c,ticketOpenImage:b,tickets:l}}},ie={class:"z-index w-100 q-pa-md row items-center justify-around"},oe={class:"full-width full-height column items-center justify-center",style:{"flex-wrap":"nowrap"}},ce={id:"flipbook"};function le(h,r,v,n,O,c){return o(),m(d,null,[p("div",ie,[(o(!0),m(d,null,C(n.tickets,s=>(o(),F(x,{key:s.id,src:s.openTime==null?n.ticketImage:s.ticketOpenImage,class:"ticket q-ma-sm",onClick:i=>n.openDialog(s)},null,8,["src","onClick"]))),128))]),f(se,{modelValue:n.dialog,"onUpdate:modelValue":r[0]||(r[0]=s=>n.dialog=s),"full-width":"","full-height":"",persistent:""},{default:E(()=>[p("div",oe,[p("div",ce,[(o(!0),m(d,null,C(n.imgList,(s,i)=>(o(),F(x,{key:i,fit:"fill",src:s.url},null,8,["src"]))),128))]),f(Y,{name:"extend"},{default:E(()=>[T(p("div",{class:"text-h3 text-white text-center q-my-xl content"},ee(n.awardName),513),[[$,n.content]])]),_:1}),T(f(ae,{label:"\u95DC\u9589",class:"q-my-xl",color:"grey-3","text-color":"black"},null,512),[[K]])])]),_:1},8,["modelValue"])],64)}var fe=J(re,[["render",le],["__scopeId","data-v-75a01a36"]]);export{fe as default};
