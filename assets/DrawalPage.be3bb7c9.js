import{_ as K,b as j,a as B,Q as x,$ as y,C as X}from"./plugin-vue_export-helper.c147531f.js";import{r as t,o as Y,W as D,R as o,a3 as m,a2 as p,F as d,a4 as C,f,U as E,S as F,a5 as $,a6 as T,a7 as ee,a8 as ae,D as ne,Z as se}from"./index.fc0a5cd8.js";import{Q as te}from"./QDialog.efe3ba85.js";import{u as re}from"./award.db2803e5.js";import"./focus-manager.c9b70bc2.js";var k="/Ichibankuji/assets/front.324f03fa.png",P="/Ichibankuji/assets/drawlTicket.e5c0e2a4.jpg",b="/Ichibankuji/assets/drawlTicketOpen.f38923d6.png",G="/Ichibankuji/assets/AB.017fb6ff.png",A="/Ichibankuji/assets/BB.3fb064ae.png",Q="/Ichibankuji/assets/CB.5eb35614.png",V="/Ichibankuji/assets/DB.87c14fea.png",q="/Ichibankuji/assets/EB.024c105b.png",L="/Ichibankuji/assets/FB.e2362742.png",N="/Ichibankuji/assets/GB.0913d365.png",I="/Ichibankuji/assets/OpenA.572b4593.png",S="/Ichibankuji/assets/OpenB.bb7355bb.png",U="/Ichibankuji/assets/OpenC.bc50624f.png",z="/Ichibankuji/assets/OpenD.e4bab730.png",M="/Ichibankuji/assets/OpenE.7d163ddf.png",R="/Ichibankuji/assets/OpenF.68f413d1.png",W="/Ichibankuji/assets/OpenG.5f9f8633.png";const ie={components:{},setup(){const v=[k,j,B,P,b,G,A,Q,V,q,L,N,I,S,U,z,M,R,W],i=t([]),h=()=>{const e=v.map(a=>new Promise(u=>{const g=new Image;g.src=a,g.onload=()=>u(g.src),g.onerror=()=>u(null)}));return Promise.all(e)};Y(async()=>{D.show(),i.value=await h(),D.hide(),console.log(i.value)});const n=t(!1),O=t(1),c=t(!1),s=t(""),r=t(null),_=t([{url:k},{url:j},{url:B}]),w=re(),l=t(null),Z=()=>{se(()=>{y("#flipbook").turn({direction:"rtl",height:271.5,width:820,elevation:50,duration:1e3,gradients:!1,autoCenter:!0,acceleration:!0,page:1,pages:3,display:"double",when:{turning:function(e,a,u){console.log(e,a,u)},turned:function(e,a){y("#flipbook").turn("disable",!1),!!a&&a==2&&(r.value.openTime==null&&w.ticketOpen(r.value.id),c.value=!0)}}})})};H();function H(){l.value=w.ticketList,l.value.sort(function(e,a){return e.id-a.id}),l.value.forEach(function(e){switch(e.ticketOpenImage=I,e.category){case"A":e.ticketOpenImage=I;break;case"B":e.ticketOpenImage=S;break;case"C":e.ticketOpenImage=U;break;case"D":e.ticketOpenImage=z;break;case"E":e.ticketOpenImage=M;break;case"F":e.ticketOpenImage=R;break;case"G":e.ticketOpenImage=W;break}})}function J(e){r.value=e,c.value=!1,s.value=e.name,n.value=!0;let a=G;switch(e.category){case"B":a=A;break;case"C":a=Q;break;case"D":a=V;break;case"E":a=q;break;case"F":a=L;break;case"G":a=N;break}_.value=[{url:k},{url:a},{url:b}],Z()}return{imgList:_,currentPage:O,openDialog:J,dialog:n,ticketImage:P,awardName:s,content:c,ticketOpenImage:b,tickets:l}}},oe={class:"z-index w-100 q-pa-md row items-center justify-around"},ce={class:"full-width full-height column items-center justify-center",style:{"flex-wrap":"nowrap"}},le={id:"flipbook"};function ue(v,i,h,n,O,c){return o(),m(d,null,[p("div",oe,[(o(!0),m(d,null,C(n.tickets,s=>(o(),F(x,{key:s.id,src:s.openTime==null?n.ticketImage:s.ticketOpenImage,class:"ticket q-ma-sm",onClick:r=>n.openDialog(s)},null,8,["src","onClick"]))),128))]),f(te,{modelValue:n.dialog,"onUpdate:modelValue":i[0]||(i[0]=s=>n.dialog=s),"full-width":"","full-height":"",persistent:""},{default:E(()=>[p("div",ce,[p("div",le,[(o(!0),m(d,null,C(n.imgList,(s,r)=>(o(),F(x,{key:r,fit:"fill",src:s.url},null,8,["src"]))),128))]),f($,{name:"extend"},{default:E(()=>[T(p("div",{class:"text-h3 text-white text-center q-my-xl content"},ae(n.awardName),513),[[ee,n.content]])]),_:1}),T(f(ne,{label:"\u95DC\u9589",class:"q-my-xl",color:"grey-3","text-color":"black"},null,512),[[X]])])]),_:1},8,["modelValue"])],64)}var ke=K(ie,[["render",ue],["__scopeId","data-v-31720fa3"]]);export{ke as default};
